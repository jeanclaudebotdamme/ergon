(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2729:function(e,t,s){Promise.resolve().then(s.bind(s,8736))},8736:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(7437),r=s(2265),n=s(4196),c=s(3119),l=s(3404),o=s(3895);function i(e){let{task:t}=e,[s,n]=(0,r.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{onClick:()=>n(!0),className:"bg-surface-secondary rounded-xl p-3.5 px-4 cursor-pointer transition-all duration-150 border border-transparent hover:bg-surface-elevated hover:border-border-hover",children:[(0,a.jsx)("div",{className:"text-sm font-medium mb-2 text-text",children:t.title}),(0,a.jsxs)("div",{className:"flex gap-2 items-center flex-wrap",children:[t.assignee&&(0,a.jsx)("span",{className:"text-[11px] px-2 py-0.5 rounded font-medium ".concat((e=>{switch(e){case"jason":return"bg-tag-jason-bg text-tag-jason-text";case"jc":return"bg-tag-jc-bg text-tag-jc-text";default:return"bg-surface-secondary text-text-muted"}})(t.assignee)),children:"jason"===t.assignee?"Jason":"JC"}),t.priority&&(0,a.jsx)("span",{className:"text-[11px] px-2 py-0.5 rounded font-medium bg-tag-priority-bg text-tag-priority-text",children:"Priority"}),(0,a.jsx)("span",{className:"text-[11px] text-text-disabled ml-auto",children:new Date(t.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]}),(0,a.jsx)(l.Z,{isOpen:s,onClose:()=>n(!1),title:"Edit Task",children:(0,a.jsx)(o.Z,{task:t,onSuccess:()=>n(!1),onCancel:()=>n(!1)})})]})}function d(e){let{column:t,tasks:s}=e,[n,c]=(0,r.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-column flex-shrink-0 bg-surface rounded-xl p-4 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("span",{className:"text-[13px] font-semibold uppercase tracking-wide flex items-center ".concat((e=>{switch(e){case"backlog":return"text-status-backlog";case"progress":return"text-status-progress";case"jason":return"text-status-jason";case"jc":return"text-status-jc";case"done":return"text-status-done";default:return"text-text-subtle"}})(t.status_key)),children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full mr-2 ".concat((e=>{switch(e){case"backlog":return"bg-[#555]";case"progress":return"bg-status-progress";case"jason":return"bg-status-jason";case"jc":return"bg-status-jc";case"done":return"bg-[#3d6b4a]";default:return"bg-text-disabled"}})(t.status_key))}),t.name]}),(0,a.jsx)("span",{className:"text-xs text-text-disabled bg-surface-secondary px-2 py-0.5 rounded",children:s.length})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto flex flex-col gap-2.5",children:s.map(e=>(0,a.jsx)(i,{task:e},e.id))}),(0,a.jsx)("div",{onClick:()=>c(!0),className:"mt-3 p-2.5 border border-dashed border-border-hover rounded-lg text-[13px] text-[#555] cursor-pointer text-center transition-all duration-150 hover:border-[#4a4a4a] hover:text-[#777] hover:bg-white/[0.02]",children:"+ Add task"})]}),(0,a.jsx)(l.Z,{isOpen:n,onClose:()=>c(!1),title:"New Task",children:(0,a.jsx)(o.Z,{defaultColumnId:t.id,onSuccess:()=>c(!1),onCancel:()=>c(!1)})})]})}var x=s(848);function u(){let{columns:e,tasks:t,loading:s,refreshData:l}=(0,x.a)();(0,r.useEffect)(()=>{l()},[l]);let o=e=>t.filter(t=>t.column_id===e).sort((e,t)=>e.position-t.position);return s?(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-text-muted",children:"Loading..."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,a.jsx)(n.Z,{title:"Ergon Dashboard"}),(0,a.jsxs)("main",{className:"flex flex-1 overflow-hidden",style:{height:"calc(100vh - 73px)"},children:[(0,a.jsx)(c.Z,{activeView:"board"}),(0,a.jsxs)("section",{className:"flex-1 p-6 overflow-x-auto",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-text",children:"Ergon Dashboard"})}),(0,a.jsx)("div",{className:"flex gap-4 h-[calc(100%-60px)]",children:e.map(e=>(0,a.jsx)(d,{column:e,tasks:o(e.id)},e.id))})]})]})]})}}},function(e){e.O(0,[53,448,858,971,117,744],function(){return e(e.s=2729)}),_N_E=e.O()}]);